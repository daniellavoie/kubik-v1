<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">

<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
>
	<body>
		<div th:fragment="menu">
			<!-- Fixed navbar -->
			<nav
				ng-controller="MenuCtrl as menuCtrl" 
				th:attr="class=${'navbar navbar-default navbar-fixed-top navbar-inverse ' + @environment.getProperty('kubik.environment')}"
			>
				<div class="container">					
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span> 
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" th:href="@{/}">Dimension Fantastique</a>
					</div>
					<div id="navbar" class="collapse navbar-collapse">
						<ul class="nav navbar-nav">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
									Achat
									<span class="caret"></span>
									<span ng-cloak="" ng-if="menuCtrl.restockCount > 0" class="glyphicon glyphicon glyphicon-exclamation-sign"></span>
								</a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/purchaseSession}" target="_self">Préparations de commandes</a></li>
									<li><a th:href="@{/purchaseOrder}" target="_self">Commandes</a></li>
									<li><a th:href="@{/reception}" target="_self">Réceptions</a></li>
	    							<li class="divider"></li>
									<li><a th:href="@{/rma}" target="_self">Retours</a></li>
	    							<li class="divider"></li>
									<li><a th:href="@{/restock}" target="_self">Réapprovisionnements <span ng-cloak="" class="badge">{{menuCtrl.restockCount}}</span></a></li>
								</ul>
							</li>
							
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Ventes<span class="caret"></span></a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/cashRegister}" target="_self">Caisse</a></li>
									<li><a th:href="@{/customer-order}" target="_self">Commandes web</a></li>
	    							<li class="divider"></li>
									<li><a th:href="@{/invoice}" target="_self">Factures</a></li>
									<li><a th:href="@{/dailyReport}" target="_self">Rapports journaliers</a></li>
	    							<li class="divider"></li>
									<li><a th:href="@{/customer}" target="_self">Clients</a></li>
									<li><a th:href="@{/customerCredit}" target="_self">Avoirs clients</a></li>
	    							<li class="divider"></li>
									<li><a th:href="@{/accounting/entry}" target="_self">Fichiers comptables</a></li>
								</ul>
							</li>
							
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
									Produits<span class="caret"></span>
									<span 
										ng-cloak="" 
										ng-if="menuCtrl.productsWithoutCategory > 0 || menuCtrl.nonValidatedImages > 0" 
										class="glyphicon glyphicon glyphicon-exclamation-sign"
									></span>	
								</a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/product}" target="_self">Produits</a></li>
									<li><a th:href="@{/category}" target="_self">Catégories de produits</a></li>
									<li>
										<a th:href="@{/product?category&amp;random}" target="_self">
											Produits non catégorisés
											<span ng-cloak="" class="badge">{{menuCtrl.productsWithoutCategory}}</span>
										</a>
									</li>
									<li>
										<a th:href="@{/product?nonValidatedProductImages&amp;random}" target="_self">
											Images non validées
											<span ng-cloak="" class="badge">{{menuCtrl.nonValidatedImages}}</span>
										</a>
									</li>
									<li><a th:href="@{/product-doubles}" target="_self">Produits doublons</a></li>
	    							<li class="divider"></li>
									<li><a th:href="@{/supplier}" target="_self">Fournisseurs</a></li>
	    							<li class="divider"></li>
									<li><a th:href="@{/productStats}" target="_self">Statistiques produits</a></li>
								</ul>
							</li>
	
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
									Dilicom<span class="caret"></span>
									<span ng-cloak="" ng-if="menuCtrl.notificationCount > 0" class="glyphicon glyphicon glyphicon-exclamation-sign"></span>
								</a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/dilicomOrder}" target="_self">Commandes</a></li>
									<li><a th:href="@{/reference}" target="_self">Références</a></li>
									<li>
										<a th:href="@{/notification}" target="_self">
											Mises à jour
											<span ng-cloak="" class="badge">{{menuCtrl.notificationCount}}</span>
										</a>
									</li>
								</ul>
							</li>
	
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
									Magasin<span class="caret"></span>
								</a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/productInventory}" target="_self">Inventaire</a></li>
									<li><a th:href="@{/stocktaking}" target="_self">Prise d'inventaire</a></li>
								</ul>
							</li>
						</ul>
							
						<form class="logout" th:action="@{/logout}" method="post">
							<ul class="nav navbar-nav navbar-right">
								<li>
									<a href="#">Déconnexion</a>
								</li>
							</ul>
						</form>
					</div>
				</div>
			</nav>
		</div>
	</body>
</html>
